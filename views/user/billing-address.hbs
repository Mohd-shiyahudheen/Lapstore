<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->

	<title>Electro - HTML Ecommerce Template</title>

	<!-- Google font -->
	<link href="https://fonts.googleapis.com/css?family=Montserrat:400,500,700" rel="stylesheet">

	<!-- Bootstrap -->
	<link type="text/css" rel="stylesheet" href="css/bootstrap.min.css" />

	<!-- Slick -->
	<link type="text/css" rel="stylesheet" href="css/slick.css" />
	<link type="text/css" rel="stylesheet" href="css/slick-theme.css" />

	<!-- nouislider -->
	<link type="text/css" rel="stylesheet" href="css/nouislider.min.css" />

	<!-- Font Awesome Icon -->
	<link rel="stylesheet" href="css/font-awesome.min.css">

	<!-- Custom stlylesheet -->
	<link type="text/css" rel="stylesheet" href="css/style.css" />

</head>

<body>
	<!-- BREADCRUMB -->
	<div id="breadcrumb" class="section">
		<!-- container -->
		<div class="container">
			<!-- row -->
			<div class="row">
				<div class="col-md-12">
					<h3 class="breadcrumb-header">Ship to Different address</h3>
					<ul class="breadcrumb-tree">
						<li><a href="#">Home</a></li>
						<li class="active">Address</li>
					</ul>
				</div>
			</div>
			<!-- /row -->
		</div>
		<!-- /container -->
	</div>
	<!-- /BREADCRUMB -->

	<!-- SECTION -->
	<div class="section">
		<!-- container -->
		<div class="container">
			<!-- row -->
			<div class="row">
				<div class="col-md-7">
					<form action="/billing-address" method="post" id="billing-address">

						<!-- Billing Details -->
						<div class="billing-details">
							<div class="section-title">
								<h3 class="title">Add new address</h3>
							</div>
							<div class="form-group">
								<input class="input" type="text" value="" name="first_name" placeholder="First Name">
							</div>
							<div class="form-group">
								<input class="input" type="text" value="" name="last_name" placeholder="Last Name">
							</div>
							<div class="form-group">
								<input class="input" type="email" value="" name="email" placeholder="Email">
							</div>
							<div class="form-group">
								<input class="input" type="text" name="address" value="" placeholder="Address">
							</div>
							<div class="form-group">
								<input class="input" type="text" name="country" value="" placeholder="Country">
							</div>
							<div class="form-group">
								<input class="input" type="text" name="state" value="" placeholder="State">
							</div>
							<div class="form-group">
								<input class="input" type="text" name="city" value="" placeholder="City">
							</div>
							<div class="form-group">
								<input class="input" type="text" name="pincode" value="" placeholder="Pin Code">
							</div>
							<div class="form-group">
								<input class="input" type="tel" value="" name="phone" placeholder="Telephone">
							</div>
							<div class="mx-auto">
								<button type="submit" class="primary-btn order-submit">Add Address</button>
							</div>

						</div>
						<!-- /Billing Details -->
				</div>
				</form>

				<!-- Order Details -->
				<div class="col-md-5 order-details">
					<div class="section-title text-center">
						<h3 class="title">Choose a Address</h3>
					</div>
					{{#each addressData}}
					<div class="card" style="width: 30rem;">
						<div class="card-body">
							<h4 class="card-title text-center">Address-{{@index}}</h4>
								<p class="card-text">First Name: {{this.first_name}}</p>
								<p class="card-text">Last Name: {{this.last_name}}</p>
								<p class="card-text">Email: {{this.email}}</p>
								<p class="card-text">Address: {{this.address}}</p>
								<p class="card-text">Country: {{this.country}}</p>
								<p class="card-text">State: {{this.state}}</p>
								<p class="card-text">City: {{this.city}}</p>
								<p class="card-text">pincode: {{this.pincode}}</p>
								<p class="card-text">Phone Number: {{this.phone}}</p>
								<a onclick="billingAddress('{{this._id}}')" class="btn btn-danger">Ship to this address</a>
				                
						</div>
					</div>
					{{/each}}
				</div>
				<!-- /Order Details -->
			</div>
			<!-- /row -->
		</div>
		<!-- /container -->
	</div>
	<!-- /SECTION -->



	

	

	<!-- jQuery Plugins -->
	<script src="js/jquery.min.js"></script>
	<script src="js/bootstrap.min.js"></script>
	<script src="js/slick.min.js"></script>
	<script src="js/nouislider.min.js"></script>
	<script src="js/jquery.zoom.min.js"></script>
	<script src="js/main.js"></script>

</body>
<script>
	function billingAddress(addressId){
    console.log(addressId);
    $.ajax({
        url:'/selectAddedAddress/'+addressId,
        method:'get',
        success:(response)=>{
            if(response.error){
               console.log(response.error);
            }else if(response.msg){
                location.href="/checkout"
}
    }
    })
}
	
</script>

</html>